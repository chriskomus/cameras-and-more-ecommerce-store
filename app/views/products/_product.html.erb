<div class="col-lg-4 col-sm-6 mb-3 sortable-item" id="<%= dom_id product %>">
  <div class="card h-100">
    <div class="card-body">
      <div class="row">
        <% if product.main_image.attached? %>
          <div class="col-sm-4">
            <%= image_tag product.main_image, alt: product.title, class: "rounded img-fluid" %>
          </div>
          <% main_col_width = 8 %>
        <% else %>
          <% main_col_width = 12 %>
        <% end %>
        <div class="col-sm-<%= main_col_width %>">
          <h5 class="card-title"><%= product.title %></h5>
          <% product.categories.each do |category| %>
            <h6 class="card-subtitle text-muted"><%= link_to category.title, category %></h6>
          <% end %>
        </div>
      </div>
    </div>
    <div class="card-body">
      <%= link_to '<i class="fa-solid fa-eye"></i> View'.html_safe, product, class: "btn btn-md btn-primary me-2" %>
      <%= link_to '<i class="fa-solid fa-cart-plus"></i> Add to Cart'.html_safe, {controller: "carts", action: "add_to_cart", product_id: product.id}, class: "btn btn-md btn-success me-2" %>
    </div>
    <div class="card-footer"><h5 class="text-warning">
      <%= render 'layouts/price', price: product.price, list_price: product.list_price %>
    </h5></div>
  </div>
</div>